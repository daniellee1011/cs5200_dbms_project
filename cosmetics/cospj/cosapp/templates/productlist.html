{% extends 'base.html' %}

{% block content %}
{% include 'events/base.html' %}

<!-- Filter Form -->
<form method="get" class="mb-3">
    {% comment %} {{ form.as_p }} {% endcomment %}
    
    <div class="form-group">
        <label for="category">Category:</label>
        <input type="text" name="category" id="category" class="form-control" placeholder="Enter category">
    </div>

    <div class="form-group">
        <label for="brand">Brand:</label>
        <input type="text" name="brand" id="brand" class="form-control" placeholder="Enter brand">
    </div>

    <div class="form-group">
        <label for="min_price">Min Price:</label>
        <input type="number" name="min_price" id="min_price" class="form-control" step="0.01" placeholder="Minimum price">
    </div>

    <div class="form-group">
        <label for="max_price">Max Price:</label>
        <input type="number" name="min_price" id="min_price" class="form-control" step="0.01" placeholder="Maximum price">
    </div>

    <div class="form-group">
        <label for="min_rating">Min Rating:</label>
        <input type="number" name="min_rating" id="min_rating" class="form-control" step="0.1" placeholder="Minimum rating">
    </div>

    <button type="submit" class="btn btn-primary">Filter</button>
</form>

<!-- Product List -->
{% if productlist %}
    {% for product in productlist %}
    <div class="container" style="margin-top: 10px;">
        <div class="card mb-1">
            <div class="card-body">
                <div>
                <div><small class="text-muted">{{product.cosmeticBrand}}</small></div>
                <a href="{% url 'productdetail' product.id %}" class="card-title">{{ product.name }}</a>
                </div>
                <div>
                <p>Average Rating:{{ product.avgRating }}  Reviews:{{ product.numReviews }}</p>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <p>No products found.</p>
{% endif %}
     
{% endblock %}